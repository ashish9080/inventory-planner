<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                 xmlns="http://java.sun.com/xml/ns/persistence/orm"
                 xsi:schemaLocation="http://java.sun.com/xml/ns/persistence/orm http://java.sun.com/xml/ns/persistence/orm_1_0.xsd"
                 version="1.0">

    <named-query name="findRequirementByProjectionIds">
        <query>
            <![CDATA[
            SELECT r
            FROM Requirement r
            WHERE
                r.projectionId IN (:projectionIds) AND
                r.current = true AND
                r.enabled = true
            ]]>
        </query>
    </named-query>
    <named-query name="findRequirementByProjectionIds.count">
        <query>
            <![CDATA[
            SELECT count(r)
            FROM Requirement r
            WHERE
                r.projectionId IN (:projectionIds) AND
                r.current = true AND
                r.enabled = true
            ]]>
        </query>
    </named-query>

    <named-query name="findRequirementByFsnState">
        <query>
            <![CDATA[
            SELECT r
            FROM Requirement r
            WHERE
                r.fsn in :fsns AND
                r.state = :state AND
                r.enabled = true
            ]]>
        </query>
    </named-query>
    <named-query name="findRequirementByFsnState.count">
        <query>
            <![CDATA[
            SELECT count(r)
            FROM Requirement r
            WHERE
                r.fsn in :fsns AND
                r.state = :state AND
                r.enabled = true
            ]]>
        </query>
    </named-query>
    
    <named-query name="findRequirementByIds">
        <query>
            <![CDATA[
            SELECT r
            FROM Requirement r
            WHERE
                r.id in :ids
                 ]]>
        </query>
    </named-query>
    
    <named-query name="findRequirementByIds.count">
        <query>
            <![CDATA[
            SELECT count(r)
            FROM Requirement r
            WHERE
                r.id in :ids
                 ]]>
        </query>
    </named-query>

    <named-query name="findEnabledRequirementsByState">
        <query>
            <![CDATA[
            SELECT r
            FROM Requirement r
            WHERE
                r.enabled = 1 and
                r.state = :state
            ORDER BY
                r.id
            ]]>
        </query>
    </named-query>
    <named-query name="findEnabledRequirementsByState.count">
        <query>
            <![CDATA[
            SELECT count(r)
            FROM Requirement r
            WHERE
                r.enabled = 1 and
                r.state = :state
            ]]>
        </query>
    </named-query>

    <named-query name="fetchBandDataForFSNs">
        <query>
            <![CDATA[
            SELECT fb
            FROM FsnBand fb
            WHERE
                fb.fsn IN :fsns
                ]]>
        </query>
    </named-query>


    <named-query name="fetchWeeklySalesForFsns">
        <query>
            <![CDATA[
            SELECT ws
            FROM WeeklySale ws
            WHERE
                ws.fsn IN :fsns
                ]]>
        </query>
    </named-query>





</entity-mappings>
